import{a as R}from"./chunk-C2KOKHLU.js";import{a as D}from"./chunk-VVWPEHCO.js";import{a as P,m as $}from"./chunk-45C3OXQ2.js";import{c as V,d as G}from"./chunk-EXFBBE3R.js";import"./chunk-MMKAGRZ3.js";import"./chunk-DMHPLCCW.js";import{$ as p,Db as h,Eb as d,Fb as x,Gb as k,La as C,Lb as F,Pa as r,Rb as c,Sb as m,Tb as S,_a as _,ca as g,eb as W,gb as T,kb as y,ma as u,mb as B,na as v,nb as E,ob as a,pb as o,qb as f,sc as N,tb as I,vb as w,wb as b}from"./chunk-HXXKVFF7.js";var M=(n,s)=>s.id;function O(n,s){n&1&&(a(0,"h2",2),h(1),c(2,"translate"),o()),n&2&&(r(),x("",m(2,1,"wish.your Wish List is empty")," "))}function j(n,s){if(n&1){let l=I();a(0,"div",3)(1,"div",4),f(2,"img",5),o(),a(3,"div",6)(4,"div")(5,"h3"),h(6),c(7,"text"),o(),a(8,"p"),h(9),c(10,"translate"),c(11,"currency"),o(),a(12,"button",7),w("click",function(){let e=u(l).$implicit,t=b();return v(t.removewhish(e._id))}),f(13,"i",8),h(14),c(15,"translate"),o()(),a(16,"div",9)(17,"button",10),w("click",function(){let e=u(l).$implicit,t=b();return v(t.addtocart(e.id))}),h(18),c(19,"translate"),o()()()()}if(n&2){let l=s.$implicit;r(2),T("src",l.imageCover,C)("alt",l.title),r(4),d(S(7,7,l.title,2)),r(3),k("",m(10,10,"wish.price:")," ",S(11,12,l.price,"GBP"),""),r(5),d(m(15,15,"wish.Remove")),r(4),d(m(19,17,"wish.Add To Cart"))}}var Y=(()=>{let s=class s{constructor(){this._WishService=p(R),this._CartService=p(P),this._ToastrService=p($),this.whishfall=_(!0),this.whishdata=_([])}ngOnInit(){this.whishsubmit=this._WishService.Getloggeduserwishlist().subscribe({next:i=>{console.log(i.data),this.whishdata.set(i.data),this._WishService.wishNumber.set(i.count),i.status=="success"&&this.whishfall.set(!1)}})}ngOnDestroy(){this.whishsubmit?.unsubscribe()}removewhish(i){this._WishService.Removeproductfromwishlist(i).subscribe({next:e=>{console.log(e),this._WishService.Getloggeduserwishlist().subscribe({next:t=>{this.whishdata.set(t.data),this._WishService.wishNumber.set(t.count),this._ToastrService.info("Remove")}})}})}addtocart(i){this._CartService.addproducttocart(i).subscribe({next:e=>{console.log(e),this._ToastrService.success("\u{1F6F5}",e.message),this._CartService.cartNumber.set(e.numOfCartItems),console.log(this._CartService.cartNumber()),this._WishService.Removeproductfromwishlist(i).subscribe({next:t=>{console.log(t)}}),this._WishService.Getloggeduserwishlist().subscribe({next:t=>{this.whishdata.set(t.data),this._WishService.wishNumber.set(t.count)}})}})}};s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=g({type:s,selectors:[["app-whishlist"]],standalone:!0,features:[F],decls:7,vars:4,consts:[[1,"my-5","p-5","shadow","rounded-3","mx-auto"],[1,"text-main","pt-5"],[1,"text-main"],[1,"row","mb-3","border-bottom"],[1,"col-md-2"],[1,"w-100",3,"src","alt"],[1,"col-md-10","d-flex","align-content-center","justify-content-between"],[1,"text-danger","cr","btn","p-0","border-0","btn-lg",3,"click"],[1,"fa-solid","fa-trash"],[1,"d-flex","align-items-center"],[1,"text-main","btn","btn-outline-primary","btn-lg",3,"click"]],template:function(e,t){e&1&&(a(0,"section",0)(1,"h2",1),h(2),c(3,"translate"),o(),W(4,O,3,3,"h2",2),B(5,j,20,19,"div",3,M),o()),e&2&&(r(2),x(" ",m(3,2,"wish.Wish List"),""),r(2),y(4,t.whishfall()?4:-1),r(),E(t.whishdata()))},dependencies:[N,D,G,V]});let n=s;return n})();export{Y as WishlistComponent};
